{"version":3,"file":"js/958.3783e590.js","mappings":"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","sources":["webpack://vue-test/./node_modules/mitt/dist/mitt.mjs","webpack://vue-test/./src/methods/emitter.js","webpack://vue-test/./src/views/Front/CheckoutView.vue","webpack://vue-test/./src/views/Front/CheckoutView.vue?89d8"],"sourcesContent":["export default function(n){return{all:n=n||new Map,on:function(t,e){var i=n.get(t);i?i.push(e):n.set(t,[e])},off:function(t,e){var i=n.get(t);i&&(e?i.splice(i.indexOf(e)>>>0,1):n.set(t,[]))},emit:function(t,e){var i=n.get(t);i&&i.slice().map(function(n){n(e)}),(i=n.get(\"*\"))&&i.slice().map(function(n){n(t,e)})}}}\n//# sourceMappingURL=mitt.mjs.map\n","import mitt from \"mitt\";\nconst emitter = mitt();\nexport default emitter;\n","<template>\n  <LoadingPlugin :active=\"isLoading\" :is-full-page=\"fullPage\" :z-index=\"1060\">\n    <div class=\"loadingio-spinner-dual-ball-eq2qwqnc1x\">\n      <div class=\"ldio-tw1s1a7kdy9\">\n        <div></div>\n        <div></div>\n        <div></div>\n      </div>\n    </div>\n  </LoadingPlugin>\n  <div class=\"pages-banner\">\n    <img\n      src=\"https://images.unsplash.com/photo-1508963493744-76fce69379c0?crop=entropy&cs=tinysrgb&fm=jpg&ixlib=rb-1.2.1&q=80&raw_url=true&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1770\"\n      alt=\"\"\n    />\n    <h2 class=\"pages-banner-title\">個人資料填寫</h2>\n  </div>\n  <div class=\"frontcart-progress-list container\">\n    <div class=\"mt-6\">\n      <div class=\"progress\">\n        <div\n          class=\"progress-bar progress-bar-striped progress-bar-animated\"\n          role=\"progressbar\"\n          aria-valuenow=\"75\"\n          aria-valuemin=\"0\"\n          aria-valuemax=\"100\"\n          style=\"width: 66.66%\"\n        >\n          60%\n        </div>\n      </div>\n    </div>\n    <div class=\"mt-5\">\n      <div\n        class=\"frontcart-progress-title d-flex justify-content-center align-items-center\"\n      >\n        <h3 class=\"frontcart-progress-title-fir\">購物車</h3>\n        <h4 class=\"frontcart-progress-title-sec\">個人資料填寫</h4>\n      </div>\n    </div>\n  </div>\n  <div class=\"container\">\n    <div class=\"mt-4\">\n      <div class=\"row mb-4\">\n        <div class=\"col-lg-6 col-md-12\">\n          <h5 class=\"text-center text-primary\">訂單詳情</h5>\n          <table data-toggle=\"table\" class=\"table align-middle\">\n            <thead>\n              <tr>\n                <th scope=\"col\">服務項目</th>\n                <th scope=\"col\">單價</th>\n                <th scope=\"col\">數量</th>\n                <th scope=\"col\" class=\"text-end\">總計</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"item in cartData.carts\" :key=\"item.id\">\n                <th>\n                  <img\n                    :src=\"item.product.imageUrl\"\n                    class=\"d-none d-sm-inline\"\n                    style=\"width: 60px; height: 60px\"\n                    alt=\"\"\n                  />\n                  {{ item.product.title }}\n                </th>\n                <td>{{ item.product.price }}</td>\n                <td>\n                  {{ item.qty }}\n                </td>\n                <td class=\"text-end\">NT$ {{ item.total }}</td>\n              </tr>\n            </tbody>\n            <tfoot>\n              <tr :class=\"{ decorationLine: couponTotal }\">\n                <td colspan=\"2\" class=\"fw-bold\">總金額</td>\n                <td colspan=\"2\" class=\"text-end fw-bold\">\n                  NT$ {{ cartData.total }}\n                </td>\n              </tr>\n              <tr v-if=\"couponTotal\">\n                <td colspan=\"2\" class=\"fw-bold\">折扣後總金額</td>\n                <td colspan=\"2\" class=\"text-end fw-bold\">\n                  NT$ {{ couponTotal }}\n                </td>\n              </tr>\n              <tr>\n                <div class=\"input-group mb-3\">\n                  <input\n                    type=\"text\"\n                    class=\"form-control\"\n                    placeholder=\"輸入折扣碼\"\n                    aria-label=\"Recipient's username\"\n                    aria-describedby=\"button-addon2\"\n                    v-model.trim=\"coupon\"\n                  />\n                  <button\n                    class=\"btn btn-success\"\n                    type=\"button\"\n                    id=\"button-addon2\"\n                    @click=\"postCoupon\"\n                    :class=\"{ disabled: couponTotal }\"\n                  >\n                    套用折扣碼\n                  </button>\n                </div>\n              </tr>\n            </tfoot>\n          </table>\n        </div>\n        <div class=\"col-lg-6 col-md-12\">\n          <h5 class=\"text-center text-primary mb-3\">填寫資料</h5>\n          <div class=\"row justify-content-center\">\n            <v-form ref=\"form\" v-slot=\"{ errors }\" @submit=\"createOrder()\">\n              <div class=\"mb-3\">\n                <label for=\"email\" class=\"form-label fw-bold\">Email</label>\n                <v-field\n                  id=\"email\"\n                  name=\"email\"\n                  type=\"email\"\n                  class=\"form-control\"\n                  :class=\"{ 'is-invalid': errors['email'] }\"\n                  placeholder=\"請輸入電子郵件\"\n                  rules=\"required|email\"\n                  v-model=\"form.user.email\"\n                ></v-field>\n                <error-message\n                  name=\"email\"\n                  class=\"invalid-feedback\"\n                ></error-message>\n              </div>\n\n              <div class=\"mb-3\">\n                <label for=\"name\" class=\"form-label fw-bold\">收件人姓名</label>\n                <v-field\n                  id=\"name\"\n                  name=\"姓名\"\n                  type=\"text\"\n                  class=\"form-control\"\n                  :class=\"{ 'is-invalid': errors['姓名'] }\"\n                  placeholder=\"請輸入姓名\"\n                  rules=\"required\"\n                  v-model=\"form.user.name\"\n                ></v-field>\n                <error-message\n                  name=\"姓名\"\n                  class=\"invalid-feedback\"\n                ></error-message>\n              </div>\n\n              <div class=\"mb-3\">\n                <label for=\"tel\" class=\"form-label fw-bold\">收件人電話</label>\n                <v-field\n                  id=\"tel\"\n                  name=\"電話\"\n                  type=\"tel\"\n                  class=\"form-control\"\n                  :class=\"{ 'is-invalid': errors['電話'] }\"\n                  placeholder=\"請輸入電話\"\n                  v-model=\"form.user.tel\"\n                  rules=\"required|min:8|max:10\"\n                ></v-field>\n                <error-message\n                  name=\"電話\"\n                  class=\"invalid-feedback\"\n                ></error-message>\n              </div>\n\n              <div class=\"mb-3\">\n                <label for=\"address\" class=\"form-label fw-bold\"\n                  >收件人地址</label\n                >\n                <v-field\n                  id=\"address\"\n                  name=\"地址\"\n                  type=\"text\"\n                  class=\"form-control\"\n                  :class=\"{ 'is-invalid': errors['地址'] }\"\n                  placeholder=\"請輸入地址\"\n                  rules=\"required\"\n                  v-model=\"form.user.address\"\n                ></v-field>\n                <error-message\n                  name=\"地址\"\n                  class=\"invalid-feedback\"\n                ></error-message>\n              </div>\n\n              <div class=\"mb-3\">\n                <label for=\"select\" class=\"form-label fw-bold\">付款方式</label>\n                <v-field\n                  as=\"select\"\n                  id=\"select\"\n                  name=\"付款方式\"\n                  class=\"form-select\"\n                  v-model=\"form.user.pay\"\n                  :class=\"{ 'is-invalid': errors['付款方式'] }\"\n                  rules=\"required\"\n                >\n                  <option selected disabled>選擇您的付款方式</option>\n                  <option value=\"現場付款\">現場付款</option>\n                  <option value=\"信用卡付費\">信用卡付費</option>\n                  <option value=\"信用卡分期付款\">信用卡分期付款</option>\n                  <option value=\"銀行轉帳\">銀行轉帳</option>\n                </v-field>\n                <error-message\n                  name=\"付款方式\"\n                  class=\"invalid-feedback\"\n                ></error-message>\n              </div>\n\n              <div class=\"mb-3\">\n                <label for=\"message\" class=\"form-label fw-bold\">留言</label>\n                <textarea\n                  id=\"message\"\n                  class=\"form-control\"\n                  cols=\"30\"\n                  rows=\"10\"\n                  placeholder=\"歡迎留下家中長輩的特殊需求，以便我們多加注意\"\n                  v-model=\"form.message\"\n                ></textarea>\n              </div>\n              <div class=\"step d-flex justify-content-between\">\n                <div class=\"text-start\">\n                  <router-link class=\"btn btn-outline-primary me-3\" to=\"/cart\">\n                    上一步\n                  </router-link>\n                </div>\n                <div class=\"text-end\">\n                  <button\n                    :disabled=\"\n                      Object.keys(errors).length > 0 ||\n                      cartData.carts.length === 0\n                    \"\n                    type=\"submit\"\n                    class=\"btn btn-primary\"\n                  >\n                    送出訂單\n                  </button>\n                </div>\n              </div>\n            </v-form>\n          </div>\n        </div>\n      </div>\n      <!-- 轉換頁面 -->\n    </div>\n  </div>\n</template>\n\n<script>\nimport alert from \"@/methods/mixins/alert\";\nimport emitter from \"@/methods/emitter\";\n\nexport default {\n  data() {\n    return {\n      coupon: \"\", // 折扣碼\n      couponTotal: \"\",\n      form: {\n        user: {\n          name: \"\",\n          email: \"\",\n          tel: \"\",\n          address: \"\",\n          pay: \"\",\n        },\n        message: \"\",\n      },\n      isLoading: false,\n      fullPage: true,\n      isLoadingItem: \"\",\n      products: [],\n      cartData: {\n        carts: [],\n      },\n      orderData: {\n        orderId: \"\",\n      },\n    };\n  },\n  mixins: [alert],\n  methods: {\n    getCart() {\n      this.isLoading = true;\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n      this.$http.get(url).then((res) => {\n        this.cartData = res.data.data;\n        this.checkCart();\n        this.isLoading = false;\n      });\n    },\n    // 提交優惠券\n    postCoupon() {\n      this.isLoading = true;\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/coupon`;\n      const coupon = {\n        code: this.coupon,\n      };\n      this.$http\n        .post(url, { data: coupon })\n        .then((res) => {\n          if (res.data.success) {\n            this.alertCouponSuccess();\n            this.couponTotal = res.data.data.final_total;\n            this.getCart();\n            this.isLoading = false;\n          } else {\n            this.alertCouponFalse();\n            this.isLoading = false;\n            this.coupon = \"\";\n          }\n        })\n        .catch(() => {\n          this.alertCouponFalse();\n          this.isLoading = false;\n          this.coupon = \"\";\n        });\n    },\n    //清空優惠券\n    resetCoupon() {},\n    // 確認購物車有東西\n    checkCart() {\n      if (this.cartData.carts.length === 0) {\n        this.alertRemindCart();\n        this.$router.push(\"/products\");\n      }\n    },\n    // 送出表單\n    createOrder() {\n      const order = this.form;\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order`;\n      this.$http\n        .post(url, { data: order })\n        .then((res) => {\n          console.log(\"上傳成功\", res);\n          this.$refs.form.resetForm();\n          // 1.存入訂單id\n          this.orderData.orderId = res.data.orderId;\n          // 2.完成付款\n          const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/pay/${this.orderData.orderId}`;\n          this.$http.post(url).then(() => {\n            this.alertCreateOrder(\n              this.orderData.orderId,\n              this.form.user.name,\n              this.form.user.pay,\n              this.cartData.final_total\n            );\n          });\n          emitter.emit(\"get-cart\");\n          this.$router.push(`/complete`);\n        })\n        .catch((err) => {\n          console.dir(err);\n        });\n    },\n  },\n  mounted() {\n    this.getCart();\n  },\n};\n</script>\n","import { render } from \"./CheckoutView.vue?vue&type=template&id=dd5ee506\"\nimport script from \"./CheckoutView.vue?vue&type=script&lang=js\"\nexport * from \"./CheckoutView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/mac/Desktop/Vue-homework/vue-hope/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["n","all","Map","on","t","e","i","get","push","set","off","splice","indexOf","emit","slice","map","emitter","mitt","_createElementVNode","class","src","alt","role","style","scope","colspan","for","selected","disabled","value","_createVNode","_component_LoadingPlugin","active","$data","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_8","_hoisted_10","_createElementBlock","_Fragment","_renderList","carts","item","key","id","product","imageUrl","_toDisplayString","title","price","qty","total","decorationLine","_hoisted_13","_hoisted_15","_hoisted_16","type","placeholder","$event","onClick","$options","_hoisted_20","_component_v_form","ref","onSubmit","errors","_hoisted_23","_component_v_field","name","rules","user","email","_component_error_message","_hoisted_25","_hoisted_27","tel","_hoisted_29","address","_hoisted_31","as","pay","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_38","cols","rows","message","_component_router_link","to","Object","keys","length","_hoisted_43","data","coupon","couponTotal","form","isLoading","fullPage","isLoadingItem","products","cartData","orderData","orderId","mixins","alert","methods","getCart","this","url","$http","then","res","checkCart","postCoupon","code","post","success","alertCouponSuccess","final_total","alertCouponFalse","catch","resetCoupon","alertRemindCart","$router","createOrder","order","console","log","$refs","resetForm","alertCreateOrder","err","dir","mounted","__exports__","render"],"sourceRoot":""}