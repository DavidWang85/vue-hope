"use strict";(self["webpackChunkvue_test"]=self["webpackChunkvue_test"]||[]).push([[229],{2229:function(s,e,t){t.r(e),t.d(e,{default:function(){return y}});var n=t(6252),i=t(9963);const a=(0,n._)("div",{class:"loadingio-spinner-dual-ball-eq2qwqnc1x"},[(0,n._)("div",{class:"ldio-tw1s1a7kdy9"},[(0,n._)("div"),(0,n._)("div"),(0,n._)("div")])],-1),o={class:"container"},l={class:"mt-3"},r={class:"row justify-content-center"},u=(0,n._)("h1",{class:"h3 mb-3 font-weight-normal text-center"},"請先登入",-1),d={class:"col-8"},c={id:"form",class:"form-signin"},p={class:"form-floating mb-3"},m=(0,n._)("label",{for:"username"},"Email address",-1),f={class:"form-floating"},g=(0,n._)("label",{for:"password"},"Password",-1),h=(0,n._)("button",{class:"btn btn-lg btn-outline-success w-50 mt-3",type:"button"}," 返回首頁 ",-1);function _(s,e,t,_,w,v){const b=(0,n.up)("LoadingPlugin"),k=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(b,{active:w.isLoading,"is-full-page":w.fullPage,"z-index":1060},{default:(0,n.w5)((()=>[a])),_:1},8,["active","is-full-page"]),(0,n._)("div",o,[(0,n._)("div",l,[(0,n._)("div",r,[u,(0,n._)("div",d,[(0,n._)("form",c,[(0,n._)("div",p,[(0,n.wy)((0,n._)("input",{type:"email",class:"form-control",id:"username","onUpdate:modelValue":e[0]||(e[0]=s=>w.user.username=s),placeholder:"name@example.com",required:"",autofocus:""},null,512),[[i.nr,w.user.username]]),m]),(0,n._)("div",f,[(0,n.wy)((0,n._)("input",{type:"password",class:"form-control",id:"password","onUpdate:modelValue":e[1]||(e[1]=s=>w.user.password=s),placeholder:"Password",required:""},null,512),[[i.nr,w.user.password]]),g]),(0,n._)("button",{class:"btn btn-lg btn-primary w-50 mt-3",type:"button",onClick:e[2]||(e[2]=(...s)=>v.login&&v.login(...s))}," 登入 "),(0,n.Wm)(k,{to:"/"},{default:(0,n.w5)((()=>[h])),_:1})])])])])])],64)}var w=t(1608),v={data(){return{user:{username:"",password:""},isLoading:!1,fullPage:!0}},mixins:[w.Z],methods:{login(){const s="https://vue3-course-api.hexschool.io/v2/admin/signin";this.isLoading=!0,this.$http.post(s,this.user).then((s=>{const{token:e,expired:t}=s.data;document.cookie=`davidToken=${e}; expires=${new Date(t)}`,this.alertLoginSuccess(),this.$router.push("/admin/products"),this.isLoading=!1})).catch((()=>{this.alertLoginFalse(),this.$router.push("/login"),this.isLoading=!1}))}}},b=t(3744);const k=(0,b.Z)(v,[["render",_]]);var y=k}}]);
//# sourceMappingURL=229.6895d334.js.map