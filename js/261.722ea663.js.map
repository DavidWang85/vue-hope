{"version":3,"file":"js/261.722ea663.js","mappings":"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","sources":["webpack://vue-test/./node_modules/mitt/dist/mitt.mjs","webpack://vue-test/./src/methods/emitter.js","webpack://vue-test/./src/views/Front/CollectView.vue","webpack://vue-test/./src/views/Front/CollectView.vue?1f74"],"sourcesContent":["export default function(n){return{all:n=n||new Map,on:function(t,e){var i=n.get(t);i?i.push(e):n.set(t,[e])},off:function(t,e){var i=n.get(t);i&&(e?i.splice(i.indexOf(e)>>>0,1):n.set(t,[]))},emit:function(t,e){var i=n.get(t);i&&i.slice().map(function(n){n(e)}),(i=n.get(\"*\"))&&i.slice().map(function(n){n(t,e)})}}}\n//# sourceMappingURL=mitt.mjs.map\n","import mitt from \"mitt\";\nconst emitter = mitt();\nexport default emitter;\n","<template>\n  <LoadingPlugin :active=\"isLoading\" :is-full-page=\"fullPage\" :z-index=\"1060\">\n    <div class=\"loadingio-spinner-dual-ball-eq2qwqnc1x\">\n      <div class=\"ldio-tw1s1a7kdy9\">\n        <div></div>\n        <div></div>\n        <div></div>\n      </div>\n    </div>\n  </LoadingPlugin>\n  <div class=\"pages-banner\">\n    <img\n      src=\"https://images.unsplash.com/photo-1508963493744-76fce69379c0?crop=entropy&cs=tinysrgb&fm=jpg&ixlib=rb-1.2.1&q=80&raw_url=true&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1770\"\n      alt=\"\"\n    />\n    <h2 class=\"pages-banner-title\">收藏清單</h2>\n  </div>\n  <div class=\"frontcart-progress-list container\">\n    <div class=\"mt-5\">\n      <div\n        class=\"frontcart-progress-title d-flex justify-content-center align-items-center\"\n      >\n        <h3 class=\"frontcart-progress-title-fir\">收藏清單</h3>\n      </div>\n    </div>\n  </div>\n  <div class=\"container\">\n    <div v-if=\"this.collectsList.length\">\n      <div class=\"mt-4\">\n        <!-- 收藏列表 -->\n        <table class=\"table align-middle\">\n          <thead>\n            <tr class=\"row\">\n              <th class=\"col-2 d-none d-md-block\">圖片</th>\n              <th class=\"col-2\">名稱</th>\n              <th class=\"col-2\">價格</th>\n              <th class=\"col-3\"></th>\n              <th class=\"col-3\"></th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr class=\"row\" v-for=\"item in collectsList\" :key=\"item.id\">\n              <td class=\"col-2 d-none d-md-block\">\n                <div\n                  class=\"collect-img\"\n                  style=\"background-size: cover; background-position: center\"\n                  :style=\"{ backgroundImage: `url(${item.imageUrl})` }\"\n                ></div>\n              </td>\n              <td class=\"col-2\">\n                <div>{{ item.title }}</div>\n              </td>\n              <td class=\"col-2\">\n                <div>NT{{ item.price }} / {{ item.unit }}</div>\n              </td>\n              <td class=\"col-3\">\n                <button\n                  @click=\"addToCart(item.id, item.title)\"\n                  class=\"btn btn-primary px-lg-2 m-0\"\n                  type=\"button\"\n                >\n                  加入購物車\n                </button>\n              </td>\n              <td class=\"col-3\">\n                <button\n                  class=\"btn btn-outline-success px-lg-2 m-0\"\n                  @click=\"removeCollect(item.id, item.title)\"\n                  type=\"btn\"\n                >\n                  <i class=\"bi bi-trash3-fill\"></i>移除收藏\n                </button>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n    <div v-else>\n      <div class=\"text-center\">\n        <div class=\"d-flex justify-content-center align-items-center mb-5\">\n          <img\n            class=\"rounded-circle\"\n            src=\"https://images.unsplash.com/photo-1518644730709-0835105d9daa?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1770&q=80\"\n            alt=\"\"\n            style=\"width: 250px; height: 250px\"\n          />\n          <p class=\"ms-4\">你還沒有收藏喜歡的服務，趕快到服務列表收藏吧！</p>\n        </div>\n        <div>\n          <router-link class=\"btn btn-outline-primary me-3\" to=\"/products\">\n            回到服務列表\n          </router-link>\n        </div>\n      </div>\n    </div>\n    <!-- 轉換頁面 -->\n    <div v-if=\"this.collectsList.length\" class=\"d-flex justify-content-between\">\n      <div class=\"text-start\">\n        <router-link class=\"btn btn-outline-primary me-3\" to=\"/products\">\n          回到服務列表\n        </router-link>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport alert from \"@/methods/mixins/alert\";\nimport emitter from \"@/methods/emitter\";\n\nexport default {\n  data() {\n    return {\n      isLoading: false,\n      fullPage: true,\n      isLoadingLocal: false,\n      isLoadingItem: \"\",\n      products: [],\n      cartData: {\n        carts: [],\n      },\n      collect: JSON.parse(localStorage.getItem(\"collect\")) || [],\n      collectsList: [],\n    };\n  },\n  mixins: [alert],\n  methods: {\n    getProducts() {\n      this.isLoading = true;\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`;\n      this.$http.get(url).then((res) => {\n        this.products = res.data.products;\n        console.log(\"get\", res);\n        this.getCart();\n        this.getCollects();\n        this.isLoading = false;\n      });\n    },\n    getCart() {\n      this.isLoading = true;\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n      this.$http.get(url).then((res) => {\n        this.cartData = res.data.data;\n        emitter.emit(\"get-cart\");\n        this.isLoading = false;\n      });\n    },\n    addToCart(id, name, qty = 1) {\n      const data = {\n        product_id: id,\n        qty,\n      };\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n      this.$http.post(url, { data }).then((res) => {\n        console.log(\"購物車\", res);\n        this.getCart();\n        this.isLoadingItem = false;\n        this.alertAddToCart(name);\n      });\n    },\n    getCollects() {\n      this.collectsList = this.products.filter(\n        (item) => this.collect.indexOf(item.id) > -1\n      );\n    },\n    removeCollect(id, name) {\n      const collectId = this.collect.indexOf(id);\n      if (collectId !== -1) {\n        this.collect.splice(collectId, 1);\n        localStorage.setItem(\"collect\", JSON.stringify(this.collect));\n        this.getCollects();\n        this.alertRemoveCollect(name);\n      }\n    },\n    goCheckOut() {\n      this.$router.push(\"/checkout\");\n    },\n  },\n  mounted() {\n    this.getProducts();\n  },\n};\n</script>\n","import { render } from \"./CollectView.vue?vue&type=template&id=336c2900\"\nimport script from \"./CollectView.vue?vue&type=script&lang=js\"\nexport * from \"./CollectView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/mac/Desktop/Vue-homework/vue-hope/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["n","all","Map","on","t","e","i","get","push","set","off","splice","indexOf","emit","slice","map","emitter","mitt","_createElementVNode","class","_hoisted_16","src","alt","style","_createVNode","_component_LoadingPlugin","active","$data","_hoisted_1","_hoisted_2","collectsList","length","_createElementBlock","_hoisted_5","_hoisted_8","_Fragment","_renderList","item","key","id","backgroundImage","imageUrl","_toDisplayString","title","price","unit","onClick","$options","type","_hoisted_13","_hoisted_19","_hoisted_21","_component_router_link","to","data","isLoading","fullPage","isLoadingLocal","isLoadingItem","products","cartData","carts","collect","JSON","parse","localStorage","getItem","mixins","alert","methods","getProducts","this","url","$http","then","res","console","log","getCart","getCollects","addToCart","name","qty","product_id","post","alertAddToCart","filter","removeCollect","collectId","setItem","stringify","alertRemoveCollect","goCheckOut","$router","mounted","__exports__","render"],"sourceRoot":""}