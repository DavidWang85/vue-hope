"use strict";(self["webpackChunkvue_test"]=self["webpackChunkvue_test"]||[]).push([[151],{5151:function(t,e,a){a.r(e),a.d(e,{default:function(){return ct}});a(6699);var s=a(6252),i=a(3577);const c=(0,s._)("div",{class:"loadingio-spinner-dual-ball-eq2qwqnc1x"},[(0,s._)("div",{class:"ldio-tw1s1a7kdy9"},[(0,s._)("div"),(0,s._)("div"),(0,s._)("div")])],-1),o=(0,s.uE)('<div class="pages-banner"><img src="https://images.unsplash.com/photo-1532329683184-6ffd13057d1c?ixlib=rb-1.2.1&amp;ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&amp;auto=format&amp;fit=crop&amp;w=1775&amp;q=80" alt=""><h2 class="pages-banner-title">服務總覽</h2></div><div class="frontcart-progress-list container"><div class="mt-5"><div class="frontcart-progress-title d-flex justify-content-center align-items-center"><h3 class="frontcart-progress-title-fir">服務總覽</h3></div></div></div>',2),l={class:"container page-top"},r={class:"mt-4"},n={class:"row d-flex justify-content-between"},d={class:"col-3"},u={class:"products-category"},g=(0,s.Uk)("全部服務"),p=(0,s.Uk)("家訪"),h=(0,s.Uk)("視訊"),_=(0,s.Uk)("日照"),v=(0,s.Uk)("護理房型"),f=(0,s.Uk)("一般房型"),m={class:"col-9"},y={class:"row row-cols-1 row-cols-md-2 g-2"},b={class:"card bg-light rounded shadow border-light border-0 mb-2 position-relative position-relative"},k={class:"card-zoom"},w=(0,s._)("div",{class:"card-zoom-text fs-4 border border-light p-2"}," 查看更多 ",-1),x={class:"card-body"},C={class:"card-title"},q={key:0},$=(0,s._)("i",{class:"bi bi-chat-square-heart-fill text-danger"},null,-1),A=[$],P={key:1},D=(0,s._)("i",{class:"bi bi-chat-square-heart-fill text-dark"},null,-1),L=[D],S={class:"card-text d-flex align-items-center"},W={class:"text-primary fs-4 me-2"},z={class:"text-muted fs-5 text-decoration-line-through"},U={class:"card-body d-flex justify-content-between"},j=["onClick"],H=(0,s._)("i",{class:"bi bi-chat-square-heart"},null,-1),M=(0,s.Uk)("收藏 "),T=[H,M],N=["onClick","disabled"],G={class:"mt-4"};function I(t,e,a,$,D,H){const M=(0,s.up)("LoadingPlugin"),I=(0,s.up)("router-link"),Y=(0,s.up)("PaginationCom");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(M,{active:D.isLoading,"is-full-page":D.fullPage,"z-index":1060},{default:(0,s.w5)((()=>[c])),_:1},8,["active","is-full-page"]),o,(0,s._)("div",l,[(0,s._)("div",r,[(0,s._)("div",n,[(0,s._)("div",d,[(0,s._)("ul",u,[(0,s._)("li",null,[(0,s.Wm)(I,{to:"/products",class:(0,i.C_)(["products-category-link",{backgroundSuccess:"all"===D.categoryActive}])},{default:(0,s.w5)((()=>[g])),_:1},8,["class"])]),(0,s._)("li",null,[(0,s.Wm)(I,{to:{path:"/products",query:{category:"家訪"}},class:(0,i.C_)([{backgroundSuccess:"家訪"===D.categoryActive},"products-category-link"])},{default:(0,s.w5)((()=>[p])),_:1},8,["class"])]),(0,s._)("li",null,[(0,s.Wm)(I,{to:{path:"/products",query:{category:"視訊"}},class:(0,i.C_)([{backgroundSuccess:"視訊"===D.categoryActive},"products-category-link"])},{default:(0,s.w5)((()=>[h])),_:1},8,["class"])]),(0,s._)("li",null,[(0,s.Wm)(I,{to:{path:"/products",query:{category:"日照"}},class:(0,i.C_)([{backgroundSuccess:"日照"===D.categoryActive},"products-category-link"])},{default:(0,s.w5)((()=>[_])),_:1},8,["class"])]),(0,s._)("li",null,[(0,s.Wm)(I,{to:{path:"/products",query:{category:"護理房型"}},class:(0,i.C_)([{backgroundSuccess:"護理房型"===D.categoryActive},"products-category-link"])},{default:(0,s.w5)((()=>[v])),_:1},8,["class"])]),(0,s._)("li",null,[(0,s.Wm)(I,{class:(0,i.C_)(["products-category-link products-category-link-bottom",{backgroundSuccess:"一般房型"===D.categoryActive}]),to:{path:"/products",query:{category:"一般房型"}}},{default:(0,s.w5)((()=>[f])),_:1},8,["class"])])])]),(0,s._)("div",m,[(0,s._)("div",y,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(D.products,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"col",key:t.id},[(0,s._)("div",b,[(0,s.Wm)(I,{class:"card-link text-dark text-decoration-none",to:`/product/${t.id}`},{default:(0,s.w5)((()=>[(0,s._)("div",k,[(0,s._)("div",{style:(0,i.j5)([{backgroundImage:`url(${t.imageUrl})`},{height:"200px","background-size":"cover","background-position":"center center"}]),class:"card-zoom-img rounded-top"},null,4),w]),(0,s._)("div",x,[(0,s._)("div",null,[(0,s._)("h4",C,[(0,s.Uk)((0,i.zw)(t.title)+" ",1),D.collect.includes(t.id)?((0,s.wg)(),(0,s.iD)("span",q,A)):((0,s.wg)(),(0,s.iD)("span",P,L))]),(0,s._)("div",S,[(0,s._)("p",W," NT$ "+(0,i.zw)(t.price),1),(0,s._)("p",z," NT$ "+(0,i.zw)(t.origin_price),1)])])])])),_:2},1032,["to"]),(0,s._)("div",U,[(0,s._)("button",{class:"btn btn-outline-success px-lg-4 m-0",onClick:e=>H.toggleCollect(t.id,t.title),type:"btn"},T,8,j),(0,s._)("button",{onClick:e=>H.addToCart(t.id,t.title),class:"btn btn-primary px-lg-4 m-0",type:"button",disabled:D.isLoading===t.id}," 加入購物車 ",8,N)])])])))),128))]),(0,s._)("div",G,[(0,s.Wm)(Y,{pages:D.pagination,onGetProducts:H.getProducts},null,8,["pages","onGetProducts"])])])])])])],64)}var Y=a(9963);const Z={class:"d-flex justify-content-center"},B={class:"pagination"},J=(0,s._)("span",{"aria-hidden":"true"},"«",-1),K=[J],O=["onClick"],E=(0,s._)("span",{"aria-hidden":"true"},"»",-1),R=[E];function V(t,e,a,c,o,l){return(0,s.wg)(),(0,s.iD)("nav",Z,[(0,s._)("ul",B,[(0,s._)("li",{class:(0,i.C_)(["page-item",{disabled:!a.pages.has_pre}])},[(0,s._)("a",{class:"page-link",href:"#",onClick:e[0]||(e[0]=(0,Y.iM)((e=>t.$emit("get-products",a.pages.current_page-1)),["prevent"])),"aria-label":"Previous"},K)],2),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.pages.total_pages,(e=>((0,s.wg)(),(0,s.iD)("li",{class:(0,i.C_)(["page-item",{active:a.pages.current_page==e}]),key:e+"123"},[(0,s._)("a",{class:"page-link",href:"#",onClick:(0,Y.iM)((a=>t.$emit("get-products",e)),["prevent"])},(0,i.zw)(e),9,O)],2)))),128)),(0,s._)("li",{class:(0,i.C_)(["page-item",{disabled:!a.pages.has_next}])},[(0,s._)("a",{class:"page-link",href:"#",onClick:e[1]||(e[1]=(0,Y.iM)((e=>t.$emit("get-products",a.pages.current_page+1)),["prevent"])),"aria-label":"Next"},R)],2)])])}var F={props:["pages"],data(){return{}}},Q=a(3744);const X=(0,Q.Z)(F,[["render",V]]);var tt=X,et=a(1608),at=a(5679),st={components:{PaginationCom:tt},data(){return{products:[],pagination:{},isLoading:!1,fullPage:!0,user:{product_id:"",qrt:""},collect:JSON.parse(localStorage.getItem("collect"))||[],categoryActive:""}},watch:{collect:{handler(){localStorage.setItem("collect",JSON.stringify(this.collect))},deep:!0},$route(){this.getProducts()}},mixins:[et.Z],methods:{getProducts(t=1){this.isLoading=!0,console.log(this.$route.query);const{category:e}=this.$route.query;let a=`https://vue3-course-api.hexschool.io/v2/api/david-frontend/products?page=${t}`;e?(a=`https://vue3-course-api.hexschool.io/v2/api/david-frontend/products?page=${t}&category=${e}`,this.categoryActive=e):this.categoryActive="all",this.$http.get(a).then((t=>{this.products=t.data.products,this.pagination=t.data.pagination,this.isLoading=!1}))},getCart(){this.isLoading=!0;const t="https://vue3-course-api.hexschool.io/v2/api/david-frontend/cart";this.$http.get(t).then((t=>{this.cartData=t.data.data,at.Z.emit("get-cart"),this.isLoading=!1}))},addToCart(t,e,a=1){const s={product_id:t,qty:a};this.isLoading=t;const i="https://vue3-course-api.hexschool.io/v2/api/david-frontend/cart";this.$http.post(i,{data:s}).then((t=>{console.log("購物車",t),this.getCart(),this.alertAddToCart(e),this.isLoading=!1}))},toggleCollect(t,e){const a=this.collect.findIndex((e=>e===t));-1===a?(this.collect.push(t),this.alertAddToCollect(e)):(this.collect.splice(a,1),this.alertRemoveCollect(e))}},mounted(){this.getProducts()}};const it=(0,Q.Z)(st,[["render",I]]);var ct=it}}]);
//# sourceMappingURL=151.3914de72.js.map