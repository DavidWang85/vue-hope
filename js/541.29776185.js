"use strict";(self["webpackChunkvue_test"]=self["webpackChunkvue_test"]||[]).push([[541],{9056:function(a,s,t){t.r(s),t.d(s,{default:function(){return U}});var i=t(6252);const n=(0,i._)("div",{class:"loadingio-spinner-dual-ball-eq2qwqnc1x"},[(0,i._)("div",{class:"ldio-tw1s1a7kdy9"},[(0,i._)("div"),(0,i._)("div"),(0,i._)("div")])],-1);function e(a,s,t,e,l,o){const c=(0,i.up)("LoadingPlugin"),u=(0,i.up)("AdminNavbarVue"),d=(0,i.up)("router-view");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(c,{active:l.isLoading,"is-full-page":l.fullPage,"z-index":1060},{default:(0,i.w5)((()=>[n])),_:1},8,["active","is-full-page"]),(0,i.Wm)(u),l.checkSuccess?((0,i.wg)(),(0,i.j4)(d,{key:0})):(0,i.kq)("",!0)],64)}var l=t(9963);const o=(0,i._)("div",{class:"loadingio-spinner-dual-ball-eq2qwqnc1x"},[(0,i._)("div",{class:"ldio-tw1s1a7kdy9"},[(0,i._)("div"),(0,i._)("div"),(0,i._)("div")])],-1),c={class:"navbar navbar-expand-lg navbar-dark bg-dark"},u={class:"container-fluid"},d=(0,i.Uk)("後台"),r=(0,i._)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,i._)("span",{class:"navbar-toggler-icon"})],-1),v={class:"collapse navbar-collapse",id:"navbarNav"},g={class:"navbar-nav"},h={class:"nav-item"},p=(0,i.Uk)("產品列表"),b={class:"nav-item"},_=(0,i.Uk)("訂單"),k={class:"nav-item"},f=(0,i.Uk)("回到前台"),m={class:"navbar-nav ms-auto"},w=(0,i._)("button",{type:"button",class:"btn btn-outline-warning btn-sm"}," 登出 ",-1),L=[w];function x(a,s,t,n,e,w){const x=(0,i.up)("LoadingPlugin"),$=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(x,{active:e.isLoading,"is-full-page":e.fullPage,"z-index":1060},{default:(0,i.w5)((()=>[o])),_:1},8,["active","is-full-page"]),(0,i._)("nav",c,[(0,i._)("div",u,[(0,i.Wm)($,{class:"navbar-brand",to:"/admin/products"},{default:(0,i.w5)((()=>[d])),_:1}),r,(0,i._)("div",v,[(0,i._)("ul",g,[(0,i._)("li",h,[(0,i.Wm)($,{to:"/admin/products",class:"nav-link"},{default:(0,i.w5)((()=>[p])),_:1})]),(0,i._)("li",b,[(0,i.Wm)($,{to:"/admin/orders",class:"nav-link"},{default:(0,i.w5)((()=>[_])),_:1})]),(0,i._)("li",k,[(0,i.Wm)($,{to:"/",class:"nav-link"},{default:(0,i.w5)((()=>[f])),_:1})])]),(0,i._)("div",m,[(0,i._)("a",{href:"#",onClick:s[0]||(s[0]=(0,l.iM)(((...a)=>w.logout&&w.logout(...a)),["prevent"])),class:"nav-link"},L)])])])])],64)}var $=t(1608),q={data(){return{isLoading:!1,fullPage:!0}},mixins:[$.Z],methods:{logout(){this.isLoading=!0;const a="https://vue3-course-api.hexschool.io/v2/logout";this.$http.post(a).then((()=>{this.$router.push("/login")})),this.isLoading=!1,this.alertLogoutSuccess()}}},W=t(3744);const P=(0,W.Z)(q,[["render",x]]);var y=P,N={data(){return{isLoading:!1,fullPage:!0,checkSuccess:!1}},methods:{checkLogin(){this.isLoading=!0;const a=document.cookie.replace(/(?:(?:^|.*;\s*)davidToken\s*=\s*([^;]*).*$)|^.*$/,"$1");if(a){this.$http.defaults.headers.common["Authorization"]=a;const s="https://vue3-course-api.hexschool.io/v2/api/user/check";this.$http.post(s).then((()=>{this.checkSuccess=!0,this.isLoading=!1})).catch((()=>{this.isLoading=!1,this.$router.push("/login")}))}else this.$router.push("/login")}},components:{AdminNavbarVue:y},mounted(){this.checkLogin()}};const S=(0,W.Z)(N,[["render",e]]);var U=S}}]);
//# sourceMappingURL=541.29776185.js.map